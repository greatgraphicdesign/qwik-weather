import{c as f,a as c,i as s,u as F,b as y,_ as l,S as H,d as m,e as L,f as o,g as i,h as b,j as d,F as u,k as g,r as W,l as Y,m as p,n as j,o as x,p as E,q as J,s as _,R as Z}from"./q-n2fZFjlg.js";const X=".modal{position:fixed;top:0;left:0;z-index:1000;width:100%;height:100%;overflow:hidden;outline:0;display:flex;align-items:center;justify-content:center;background-color:#00000080;-webkit-tap-highlight-color:transparent}",A=f("PortalProviderAPI"),D=f("PortalCloseAPI"),M=f("Portals"),N=()=>{const[e,t]=g();t.value=t.value.filter(a=>a!==e)},K=(e,t,a)=>{const[r]=g(),n={name:e,jsx:t,close:null,contexts:[...a||[]]};return n.close=s(N,"s_ysmnbPCXPAU",[n,r]),n.contexts.push({id:D,value:n.close}),r.value=[...r.value,n],n.close},G=()=>{const e=F([]);return y(M,e),y(A,s(K,"s_Si0HDg6C5tU",[e])),l(H,null,3,"3t_0")},V=c(s(G,"s_zadRqopi1J4")),ee=e=>{const t=m(M);L(s(X,"s_t0wHq1y0afE"));const a=t.value.filter(r=>r.name===e.name);return l(u,{children:a.map((r,n)=>o("div",null,{"data-portal":d(h=>h.name,[e],"p0.name")},l(oe,{get jsx(){return r.jsx},get contexts(){return r.contexts},[i]:{jsx:b(r,"jsx"),contexts:b(r,"contexts")}},3,"3t_1"),1,n))},1,"3t_2")},te=c(s(ee,"s_Kuk0TZChONA")),ae=e=>(e.contexts.forEach(({id:t,value:a})=>{y(t,a)}),l(u,{children:[e.jsx].map(t=>t)},1,"3t_3")),oe=c(s(ae,"s_XqRdMYz9jnU")),ne='@import"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap";.weather-app{position:relative;display:flex;flex-direction:column;align-items:center;align-self:stretch;justify-content:flex-start;background-color:#9bd1ff;color:#222;font-family:Playfair Display,serif;font-size:2rem;min-height:100.1vh;width:100%;padding:30px 5%;box-sizing:border-box}.weather-app *{box-sizing:border-box}.weather-app .about-btn{position:absolute;top:3px;right:3px;display:flex;justify-content:center;background-color:transparent;color:#f8f8ff;font-size:3rem;line-height:1;height:35px;width:35px;border:none;border-radius:6px}.weather-app .about-btn:hover,.weather-app .about-btn:focus{background-color:#065091}.weather-app .inner{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem 0;width:100%}.weather-app .inner button{background-color:#1592ff;color:#fff;font-family:inherit;font-size:1.6rem;line-height:1;margin-bottom:1rem;padding:1.2rem;max-width:200px;border:1px solid #c7e5ff;border-radius:5px}.weather-app .inner button:hover,.weather-app .inner button:focus{background-color:#065091}.weather-app h1,.weather-app h2,.weather-app h3{font-weight:400;text-align:center}.weather-app h1{font-size:3.2rem;margin:0}.weather-app h2{font-size:2.1rem;margin:1rem 0}.weather-app h3{font-size:1.8rem;margin:1rem 0}.weather-app .error{color:#c40000;font-size:1.4rem}.weather-app input{background-color:#c7e5ff;color:inherit;font-family:inherit;font-size:2rem;text-align:center;margin-bottom:1rem;padding:1.2rem;width:200px;max-width:300px;border:1px inset #c7e5ff}.weather-app input:focus{outline:2px solid #fff}.weather-app .weather{display:flex;flex-direction:column;align-items:center;gap:1rem;flex-wrap:wrap;list-style:none;margin:0;padding:0}.weather-app .day{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;align-self:stretch;gap:1.2rem;flex-basis:calc(50% - .6rem);background-color:#b1d9fb;text-align:center;padding:1.6rem}.weather-app .day.today{flex-direction:row;justify-content:center;gap:2rem;flex-wrap:wrap;padding-bottom:3.5rem;margin-bottom:1rem;border-top-right-radius:9px;border-top-left-radius:9px}.weather-app .day.today .icon{line-height:1}.weather-app .day.today .temps,.weather-app .day.today .stacked{margin:0}.weather-app .day .icon{font-size:5.2rem}.weather-app .day .stacked span{display:block}.weather-app .day .stacked span:last-child{font-size:1.6rem}.weather-app .day .today-title,.weather-app .day #todayHourly{flex-basis:100%}.weather-app .day #todayHourly{background-color:#9bd1ff;height:16rem;margin-top:1rem;margin-bottom:0;overflow:hidden;overflow-y:scroll;scrollbar-color:#c7e5ff #6e91b0;scrollbar-gutter:stable;border:1px inset ghostwhite;border-radius:5px}.weather-app .day #todayHourly.expanded{height:unset;overflow:unset;overflow-y:unset}.weather-app .day .today-title{margin:1rem 0 0}.weather-app .day .today-hourly-data{display:flex;align-items:center;justify-content:center}.weather-app .day .today-hourly-data:has(~.current){background-color:#7dc2f0}.weather-app .day .today-hourly-data.current{background-color:#d6eefe}.weather-app .day .today-hourly-data#i23{border-bottom:3px double #80919f}.weather-app .day .today-code,.weather-app .day .today-temp,.weather-app .day .today-hour,.weather-app .day .today-ampm{align-self:center}.weather-app .day .today-code{flex-basis:4rem;font-size:2.8rem}.weather-app .day .today-temp{flex-basis:5rem;text-align:right;padding-bottom:4px}.weather-app .day .today-hour{flex-basis:9rem;text-align:right;font-size:2rem;padding:0 .5rem 4px 3rem}.weather-app .day .today-ampm{flex-basis:4rem;text-align:left;font-size:1.6rem}.weather-app .day #expandHourlyBtn{position:absolute;bottom:.25rem;right:1.6rem;margin:0;padding:0}.weather-app .day #expandHourlyBtn button{background:transparent;color:#1592ff;font-size:2.6rem;height:3rem;width:3rem;margin:0 0 2px;padding:0;border:none;transition:transform .5s;transform:rotate(90deg);cursor:pointer}.weather-app .day #expandHourlyBtn button.expanded{transform:rotate(-90deg) translateY(-3px)}.weather-app .loader{font-size:2.4rem;font-weight:700}@media screen and (min-width: 450px){.weather-app .weather .day{flex-basis:calc(33.33% - .8rem)}}@media screen and (min-width: 600px){.weather-app .weather .day{flex-basis:calc(25% - .8rem)}}@media screen and (min-width: 870px){.weather-app .weather{flex-direction:row}.weather-app .weather .day{flex-direction:column;flex-basis:12%}.weather-app .weather .day .temps{display:flex;flex-direction:column-reverse}.weather-app .weather .day .dash{transform:rotate(90deg) skewY(65deg) translate(3px,-7px);display:flex;align-items:center;justify-content:center}}',re=async({cacheControl:e})=>{e({staleWhileRevalidate:604800,maxAge:5})},se=()=>({date:new Date().toISOString()}),le=W(s(se,"s_GQamrjryd1Y")),ie=()=>(Y(s(ne,"s_JKHgMZ4xLZQ")),l(u,{children:o("main",null,null,l(V,{children:[l(H,null,3,"XF_0"),l(te,{name:"modal",[i]:{name:i}},3,"XF_1")]},1,"XF_2"),1,null)},1,"XF_3")),de=c(s(ie,"s_VkLNXphUh5s")),ce=Object.freeze(Object.defineProperty({__proto__:null,default:de,onGet:re,useServerTimeLoader:le},Symbol.toStringTag,{value:"Module"})),pe="#alertOverlay{position:fixed;top:0;left:0;background-color:#000000a6;width:100%;height:100vh;z-index:1000;transition:all .5s}#alertOverlay #alertContent{position:fixed;top:50%;left:50%;background-color:#ccc;font-size:1.6rem;padding:32px 40px;min-width:200px;transform:translate(-50%,-50%);border-radius:9px;box-shadow:2px 2px 4px #222;transition:all .5s}#alertOverlay .alertClose{position:absolute;top:0;right:0;background:none;margin:0;padding:0;width:35px;height:35px;border:none;transition:all .2s;cursor:pointer}#alertOverlay .alertClose:focus{background-color:#bbb}",ue=e=>{L(s(pe,"s_1U0avqj3eik"));const t=m(D);return o("div",null,{id:"alertOverlay",onClick$:p("s_B5CGBzSqbls",[t])},o("div",null,{id:"alertContent"},[o("button",null,{class:"alertClose",onClick$:p("s_VIyuPlWz0No",[t])},"✕",3,null),o("div",null,{dangerouslySetInnerHTML:d(a=>a.content,[e],"p0.content")},null,3,null)],3,null),3,"06_0")},me=c(s(ue,"s_5Wn3iQBlyEQ")),he=e=>o("p",null,{class:"error"},d(t=>t.message,[e],"p0.message"),3,"IQ_0"),ye=c(s(he,"s_oQnubcoI5HI")),fe=()=>o("p",null,{class:"loader"},"Loading...",3,"yh_0"),ge=c(s(fe,"s_0ADYAZ4tl5U")),we=()=>{const e=m(w);return l(u,{children:o("input",null,{type:"text",placeholder:"City or Zip Code",value:d(t=>t.query,[e],"p0.query"),onInput$:p("s_0MezwHFeMFc",[e])},null,3,null)},3,"sq_0")},xe=c(s(we,"s_SdTHsMBGSa0")),_e=()=>{j();const e=m(w);if(!(!e.forecast||!e.weatherToday))return o("div",null,null,[o("h2",null,null,d(t=>t.displayLocation,[e],"p0.displayLocation"),3,null),l(z,{get code(){return e.forecast.weathercode[0]},get date(){return e.forecast.time[0]},isToday:!0,get max(){return e.forecast.temperature_2m_max[0]},get min(){return e.forecast.temperature_2m_min[0]},get weatherToday(){return e.weatherToday},[i]:{code:d(t=>t.forecast.weathercode[0],[e],"p0.forecast.weathercode[0]"),date:d(t=>t.forecast.time[0],[e],"p0.forecast.time[0]"),isToday:i,max:d(t=>t.forecast.temperature_2m_max[0],[e],"p0.forecast.temperature_2m_max[0]"),min:d(t=>t.forecast.temperature_2m_min[0],[e],"p0.forecast.temperature_2m_min[0]"),weatherToday:d(t=>t.weatherToday,[e],"p0.weatherToday")}},3,e.forecast.time[0]),o("h3",null,null,"7-Day Forecast",3,null),o("ul",null,{class:"weather"},e.forecast.time.map((t,a)=>j(a!==0&&l(z,{code:e.forecast.weathercode[a],date:t,isToday:!1,max:e.forecast.temperature_2m_max[a],min:e.forecast.temperature_2m_min[a],get weatherToday(){return e.weatherToday},[i]:{isToday:i,weatherToday:d(r=>r.weatherToday,[e],"p0.weatherToday")}},3,t))),1,null)],1,"oK_0")},be=c(s(_e,"s_yFd7xrvnSPQ")),ve=()=>{const e=document.querySelector("#todayHourly"),t=document.querySelector("#expandHourlyBtn");e==null||e.classList.toggle("expanded"),t==null||t.classList.toggle("expanded")},Te=e=>{let t=[];return e.isToday&&(t=e.weatherToday.hourly.time.map((a,r)=>{const n={code:0,index:0,meridiem:"",temp:0,time:""};return n.time=new Date(a).toLocaleTimeString("en",{timeStyle:"short",hour12:!0}),n.meridiem=/AM/i.test(n.time)?"AM":"PM",n.time=n.time.replace(/\s(AM|PM)/,""),n.temp=e.weatherToday.hourly.temperature_2m[r],n.code=e.weatherToday.hourly.weathercode[r],n.index=r,n.meridiem.length?n:!1}).filter(a=>a!==!1)),o("li",null,{class:d(a=>a.isToday?"day today":"day",[e],'p0.isToday?"day today":"day"')},[e.isToday?o("p",null,{class:"today-title"},"TODAY",3,"oK_1"):"",o("span",null,{class:"icon"},I(e.code),1,null),o("p",null,{class:"temps"},[o("span",null,null,[Math.floor(e.min),"°"],1,null),o("span",null,{class:"dash"}," – ",3,null),o("span",null,null,[Math.ceil(e.max),"°"],1,null)],1,null),o("p",null,{class:"stacked"},[o("span",null,null,Ce(`${e.date+"T00:00:00"}`),1,null),o("span",null,null,ke(`${e.date+"T00:00:00"}`),1,null)],1,null),e.isToday&&t.length?l(u,{children:[o("p",null,{id:"todayHourly"},t.map(a=>l(u,{children:o("span",{id:`i${a.index>9?a.index:0+a.index.toString()}`},{class:"today-hourly-data"},[o("span",null,{class:"today-code"},I(a.code),1,null),o("span",null,{class:"today-temp"},x(a,"temp"),1,null),o("span",null,{class:"today-hour"},x(a,"time"),1,null),o("span",null,{class:"today-ampm"},x(a,"meridiem"),1,null)],1,null)},1,a.index)),1,null),o("p",null,{id:"expandHourlyBtn"},o("button",{onClick$:s(ve,"s_Y08BJ5I9ZFo")},null,"❯",2,null),1,null)]},1,"oK_2"):""],1,"oK_3")},z=c(s(Te,"s_kJfmLBv5WRc"));function Ce(e){return new Intl.DateTimeFormat("en",{weekday:"short"}).format(new Date(e))}function ke(e){return new Intl.DateTimeFormat("en",{month:"short",day:"2-digit"}).format(new Date(e))}function I(e){const t=new Map([[[0],"☀️"],[[1],"🌤"],[[2],"⛅️"],[[3],"☁️"],[[45,48],"🌫"],[[51,56,61,66,80],"🌦"],[[53,55,63,65,57,67,81,82],"🌧"],[[71,73,75,77,85,86],"🌨"],[[95],"🌩"],[[96,99],"⛈"]]),a=[...t.keys()].find(r=>r.includes(e));return a?t.get(a):"NOT FOUND"}async function Se(e,t){function a(B){const R=B.toUpperCase().split("").map(U=>127397+U.charCodeAt(0));return String.fromCodePoint(...R)}const r={displayLocation:"",forecast:{},weatherToday:{}};if(/,\s/.test(e)||e.length<4)throw new Error("Please enter the city name (only) or a zip code.");const n=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${e}&count=10&language=en&format=json`,{signal:t.signal});if(!n.ok)throw new Error("Something went wrong when fetching the geo location.");const h=await n.json();if(!h.results)throw new Error(`“${e}” not found.`);const{latitude:v,longitude:T,timezone:C,name:O,admin1:k,country_code:Q}=h.results[0];r.displayLocation=`${O}${k?`, ${k}`:""} ${a(Q)}`;const S=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${v}&longitude=${T}&timezone=${C}&temperature_unit=fahrenheit&forecast_days=8&daily=weathercode,temperature_2m_max,temperature_2m_min`,{signal:t.signal});if(!S.ok)throw new Error("Something went wrong when fetching the forecast.");const $=await S.json();r.forecast=$.daily;const P=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${v}&longitude=${T}&timezone=${C}&temperature_unit=fahrenheit&forecast_days=2&hourly=weathercode,temperature_2m,temperature_2m&daily=temperature_2m_max,temperature_2m_min`,{signal:t.signal});if(!P.ok)throw new Error("Something went wrong when fetching the forecast.");const q=await P.json();return r.weatherToday=q,r}const w=f("weather-context"),Pe=()=>{const[e]=g();document.body.classList.add("lock"),e("modal",l(me,{content:`
          <p>This is an enhanced version of the Classy Weather project in Jonas Schmedtmann’s Ultimate React Course, converted to the Qwik framework. It is offered without warrants or represents.</p>
          <p>The data you enter is stored on this device using your browser’s built-in storage. This can be emptied by clearing your browser data. The app tracks nothing.</p>
          <p>Weather data courtesy of open-meteo.com. Enjoy!</p>
          <p><a href="/apps">More apps</a></p>
        `,[i]:{content:i}},3,"H1_0"))},je=({track:e,cleanup:t})=>{const[a]=g();e(()=>a.query);const r=new AbortController;return t(()=>r.abort("cleanup")),Se(a.query,r)},ze=()=>{const e=E({displayLocation:"",error:"",forecast:null,query:"",weatherToday:null});y(w,e);const t=m(A),a=s(Pe,"s_0CAUp0JTeY8",[t]),r=J(s(je,"s_ZrRVap1iTHs",[e]));return _(p("s_zqpXT8B27s0",[e])),_(p("s_vg3z8wZWCPA",[e])),_(p("s_9Dk7fUYNCDI",[e])),o("div",null,{class:"weather-app"},[o("button",null,{class:"about-btn",onClick$:a},"⚙",3,null),o("div",null,{class:"inner"},o("h1",null,null,"Check the Weather",3,null),3,null),o("form",null,{class:"inner","preventdefault:submit":!0},[l(xe,null,3,"H1_1"),l(Z,{onPending:()=>l(ge,null,3,"H1_2"),onRejected:n=>l(ye,{get message(){return n.message},[i]:{message:b(n,"message")}},3,"H1_3"),onResolved:n=>(e.displayLocation=n.displayLocation,e.forecast=n.forecast,e.weatherToday=n.weatherToday,l(be,null,3,"H1_4")),value:r,[i]:{onPending:i,onRejected:i,onResolved:i,value:i}},3,"H1_5")],1,null)],1,"H1_6")},Ie=c(s(ze,"s_xYL1qOwPyDI")),He={title:"Check the Weather",meta:[{name:"description",content:"A 7-Day weather forecast."}]},Le=Object.freeze(Object.defineProperty({__proto__:null,WeatherContext:w,default:Ie,head:He},Symbol.toStringTag,{value:"Module"})),Ae=[],De=()=>ce,Me=[["/",[De,()=>Le],"/",["q-DcuTg04y.js","q-BIO_BSuC.js"]]],Oe=[],Qe=!0,$e="/",qe=!0,Re={routes:Me,serverPlugins:Ae,menus:Oe,trailingSlash:Qe,basePathname:$e,cacheModules:qe};export{$e as basePathname,qe as cacheModules,Re as default,Oe as menus,Me as routes,Ae as serverPlugins,Qe as trailingSlash};
